<p align="center">   <img src="https://iws.tw/down/iwspkglogo.png" alt="IWS AI Multilang Translator" width="160"> </p>  <p align="center">   <b>IWS AI Multilang Translator</b><br>   由 AI 驱动的 WordPress 多语言翻译插件：接入多个语言模型和机器翻译，为你的博客构建可控、带兜底机制的多语言体验。 </p>


---

## 🌍 概述

IWS Multilang 是一款开源的 WordPress 多语言插件，通过接入 Google Cloud Translation、智谱 GLM‑4‑Flash 和 Anthropic Claude‑3‑Haiku 等翻译 API，把单语博客升级为轻量级的多语言站点。 插件强调自托管与可配置性，让个人博主和小团队也能用得起、用得稳的 AI 翻译，而不是被某一家闭源服务绑定。

## ✨ 功能

- 🚀 **自动翻译**：支持文章标题、正文、摘要的自动翻译，可自由选择后端引擎（Google / GLM / Claude）。
- 🔁 **URL 级语言切换**：通过 `?iws_lang=xx`（如 `en`、`zh-TW`、`es`、`fr`）切换语言视图，不改动原有永久链接结构。
- 🧱 **DOM 分块翻译引擎**：把正文 HTML 解析为段落和标题，以“块”为单位翻译，而不是一整段纯文本，长文阅读体验更自然。
- 🛡️ **合规友好的兜底机制**：当大模型因为安全或政策原因拒绝翻译某一段时，插件会识别典型拒绝语句，自动改用 Google Translation 翻译该段，保证读者看到的是完整文章而不是一堆合规提示。
- 💾 **数据库缓存**：所有翻译结果写入数据库缓存，避免重复调用外部 API，节省额度并提升响应速度。
- 🎛️ **简约后台面板**：服务商选择、API Key 配置、语言列表、缓存策略，一目了然；另带顶部语言条和侧边栏小工具，方便集成到各种主题。

## 📦 安装与使用

1. 将插件目录上传到 `wp-content/plugins/`，或通过后台「上传插件」安装。
2. 在后台「插件」页面启用 **IWS Multilang**。
3. 进入插件设置，按照安装向导完成配置：
   - 选择主力翻译服务（Google / GLM‑4‑Flash / Claude‑3‑Haiku），分别粘贴对应的 API Key。
   - 勾选希望在前台展示的目标语言（EN / 繁體中文 / Español / Français）。
   - 启用缓存并设置缓存天数，在性能与成本之间做一个平衡。
4. 打开任意文章，通过页面顶部语言条或侧边栏按钮切换语言视图，URL 会携带 `?iws_lang=` 参数。

## 🛣️ 未来开发方向

- 🔌 接入更多翻译服务和开源大模型网关，为不同场景提供更细分的引擎选择。
- 🧩 针对代码块、脚注、富文本引用等特殊结构设计更精细的翻译规则，在保持排版的前提下减少“误伤”。
- 📝 提供简易的「人工校对与覆盖」界面，让站长可以对关键段落的 AI 译文做修改，并写回缓存。
- ⚙️ 继续优化分块策略与超时控制，在共享主机和 CDN 环境下也能平稳处理超长文章

##💬 后言
IWS Multilang 也许只是一个轻盈而渺小的 WordPress 插件，却悄悄证明了一件事：在足够开放的生态里，个人同样可以把「多语言 × AI」塑造成一套真正掌握在自己手里的工具，而不是被订阅制牵着走的服务。它能走多远、能长成什么形状，不取决于谁的定价页，而取决于你愿意在这块小小的基石上，继续叠加多少好奇、创意与想象力。
